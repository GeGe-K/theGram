{% extends 'profile/base.html' %}
{%load static%}

{% block content %}
<div class="container">
    <div class="row">
        <!-- displaying Username -->
        <div class="col-md-6">
            <div id="profile">
                <h3> {{user.username }} </h3>
                <!--Display profile photo-->
                {% if user.profile_pic %}
                
                <img style="border: 1px black solid" src="{{user.profile_pic.url_}}" alt="picture" class="img-thumbnail">
                {% else %}
                <img src="/media/profile_pic/default.jpeg" alt="" style="width:70px;height: 70px;border-radius: 50%" >
                {% endif %}
                <!--Displaying user info-->
                {% if user.profile.bio %}
                {% autoescape on%}
                <p> {{user.profile.bio | safe}} </p>
                {% endautoescape%}
                {% else %}
                <p> {{user.username}} has no bio </p>
                {% endif %}
                <p><a href="{% url 'updateprofile' %}">Edit profile</a></p>
                <p><a href="{% url 'new_image'%}">New post</a></p>
                
            </div>
            <div>
                <!-- Displaying posts -->
                {% if user.posts %}
                <h3>No of posts: {{user.posts.all.count}}</h3>
                {%endif%}
                {%if user.followers%}
                <h3>Followers: {{user.followers.all.count}}</h3>
                {%endif%}
                {%if user.following%}
                <h3>Following: {{user.posts.all.count}}</h3>
                {%endif%}
            </div>
            <!-- Posts -->
            <!-- <div id="post">
                <h3 class="text-center my-5">Posts</h3>
                {% for post in posts%}
                    <div class="card">
                        <div class="card-body">
                            <div class="card-header bg-white">
                                <img src="{{ image.user.profile.profile_pic.url }}" alt="" style="width:40px;height: 40px;border-radius: 50%">
                                <p class="card-text">{{ image.user.username }}</p>
                            </div>
                            <img src="{{ image.image.url }}" class="card-img-top" alt="Image">
                        </div>

                    </div>
                {% endfor %} -->
            <!-- </div> -->
        </div>
    </div>
</div>    
{%endblock%}